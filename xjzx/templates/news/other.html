{% extends 'news/base.html' %}
{% block head %}
    <link rel="stylesheet" type="text/css" href="/static/news/css/jquery.pagination.css">
    <script type="text/javascript" src="/static/news/js/jquery.pagination.min.js"></script>
    <script type="text/javascript" src="/static/news/js/other.js"></script>
{% endblock %}
{% block body %}
    <div class="conter_con">
        <div class="user_menu_con fl">
            <div class="user_center_pic">
                <img src="{{ author.avatar_url }}" alt="用户图片">
            </div>
            <div class="user_center_name">{{ author.nick_name }}</div>

            <ul class="other_detail">
                <li>性 别：{{ author.gender }}</li>
                <li>签 名：{{ author.signature }}</li>
            </ul>

            <div class="focus_other">
            <input type="hidden" id="follow_user_id" value="{{ author.id }}">
             {% if author.id != user.id %}
                {% if user %}
                    {% if author in user.follow_user %}
                <a href="javascript:;" class="focus" style="display:none;">关注</a>
                <a href="javascript:;" class="focused"><span class="out">已关注</span><span class="over">取消关注</span></a>
                        {% else %}
                        <a href="javascript:;" class="focus">关注</a>
                <a href="javascript:;" class="focused" style="display:none;"><span class="out"  >已关注</span><span class="over">取消关注</span></a>
                        {% endif %}
                {% else %}
                <a href="javascript:;" class="focus">关注</a>
                <a href="javascript:;" class="focused" style="display: none;"><span class="out" >已关注</span><span class="over">取消关注</span></a>
                {% endif %}
            {% endif %}
            </div>

        </div>

        <div class="user_con fr">
            <div class="other_collect">
                <h3>他的文章</h3>
                <ul class="article_list">
                    {% for news in news_list %}
                    <li><a href="/{{ news.id }}">{{ news.title }}</a><span>{{ news.create_time }}</span></li>
                    {% endfor %}
                </ul>

                 <div id="pagination" class="page"></div>
        <script>
            // 调用父页面的方法改变菜单指示
            // window.parent.fnChangeMenu(2);

            $(function(){
                $("#pagination").pagination({
                    currentPage: {{ page }},
                    totalPage: {{ total_page }},
                    callback: function(current) {
                        location.href='?page=' + current;
                    }
                });
            });
             // 选中索引为6的左边单菜单
            window.parent.fnChangeMenu(6);
            // 滚动到顶部
            window.parent.scrollTo(0, 0);
        </script>
            </div>

        </div>
    </div>
{% endblock %}
